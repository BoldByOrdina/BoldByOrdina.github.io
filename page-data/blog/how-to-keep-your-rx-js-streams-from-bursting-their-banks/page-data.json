{"componentChunkName":"component---src-templates-blog-post-js","path":"/blog/how-to-keep-your-rx-js-streams-from-bursting-their-banks/","result":{"data":{"site":{"siteMetadata":{"title":"Ordina Bold Tech & Design Blog","configs":{"countOfInitialPost":10}}},"markdownRemark":{"id":"2bd19e92-7ebf-5e94-8dd8-2dbf79f01871","excerpt":"In my current role as Angular coach I try to help my colleagues as much as possible to make their applications in a logical and comprehensible way.\nI’m a huge supporter of RxJS for reactive programming and I ask others to consider using the technology to help them create…","html":"<p>In my current role as Angular coach I try to help my colleagues as much as possible to make their applications in a logical and comprehensible way.\nI’m a huge supporter of RxJS for reactive programming and I ask others to consider using the technology to help them create declarative code and prevent them from going to Callback Hell.\nBut as people start to embrace RxJS streams, the difficulties paired with using reactive programming start to surface and I’ve concluded that there also exists something I’d like to call <em>Observable Purgatory</em>.</p>\n<p>At the moment of writing this, I’m staring at an Angular component file having 548 lines - no inline template or styles - of which 64 lines are imports and 411 lines either are a declaration or instantiation of a stream or are a function in which a stream is used.\nSome of these functions are more than 20 lines, and 3 are even more than 40 lines.\nHoly nightmare, Batman!\nImagine the unit tests needed to test all possible cases.\nApparently those aren’t needed, because the biggest function - 48 lines - is tested in 2 unit tests and of course “everything works, doesn’t it?”</p>\n<p>So without further ado, here are the most common bad practices and their solutions.</p>\n<p><strong>Note: Unless explicitly mentioned, these are NOT Angular specific.</strong></p>\n<h2 id=\"consuming-all-the-ram\" style=\"position:relative;\"><a href=\"#consuming-all-the-ram\" aria-label=\"consuming all the ram permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Consuming all the RAM</h2>\n<p><img src=\"./img/2y7g2l.jpg%22\" alt=\"Jack Sparrow: But why is the RAM gone\"></p>\n<p>Developers who are new to RxJS will often forget that a subscription can live on during the whole life time of your application.\nMost of the time they have only worked with simple XHR requests and those will by default emit only one value and then complete.\nBut reactive programming allows to create streams that emit multiple values and might never complete.\nThis will cause memory leaks, unexpected behaviour and therefor bugs.\nThe solution is quite simple: just unsubscribe or take only the needed events!</p>\n<p>You can cancel a subscription by calling its <strong>unsubscribe</strong> function, but then you’re skimming the power of reactive programming.\nOperators like - but not limited to - <a href=\"https://rxmarbles.com/#first\"><strong>first</strong></a>, <a href=\"https://rxmarbles.com/#take\"><strong>take</strong></a>, <a href=\"https://rxmarbles.com/#takeWhile\"><strong>takeWhile</strong></a> and <a href=\"https://rxmarbles.com/#takeUntil\"><strong>takeUntil</strong></a> will close a subscription as soon as the condition is met.</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token function\">interval</span><span class=\"token punctuation\">(</span><span class=\"token number\">1000</span><span class=\"token punctuation\">)</span>       <span class=\"token comment\">// --0--1--2--3--4--5--6--7--8--9--...--></span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">pipe</span><span class=\"token punctuation\">(</span><span class=\"token function\">take</span><span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>     <span class=\"token comment\">// --0--1--2--3--(4|)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">subscribe</span><span class=\"token punctuation\">(</span>tick <span class=\"token operator\">=></span> <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>tick<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p><strong>Note: When using mergeMap or another variant in combination with takeUntil, make sure you add the takeUntil pipe at the end.</strong></p>\n<blockquote>\n<p>RULE: CANCEL SUBSCRIPTIONS THAT DO NOT COMPLETE BY THEMSELVES</p>\n</blockquote>\n<h3 id=\"angular-specific-use-the-asyncpipe\" style=\"position:relative;\"><a href=\"#angular-specific-use-the-asyncpipe\" aria-label=\"angular specific use the asyncpipe permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Angular specific: Use the AsyncPipe</h3>\n<p>Angular provides an <a href=\"https://angular.io/api/common/AsyncPipe\">AsyncPipe</a>, which lets you subscribe to a stream from inside your component’s template.\nThe great advantage is that this subscription will automatically be openend when the component or the element in which it’s used is created and cancelled when the component is destroyed.\nA quick example of a counter of seconds:</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token decorator\"><span class=\"token at operator\">@</span><span class=\"token function\">Component</span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  selector<span class=\"token operator\">:</span> <span class=\"token string\">'my-app'</span><span class=\"token punctuation\">,</span>\n  template<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">&lt;p>\n      Tick: {% raw %}{{ tick }}{% endraw %}\n    &lt;/p></span><span class=\"token template-punctuation string\">`</span></span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">AppComponent</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">OnInit</span><span class=\"token punctuation\">,</span> OnDestroy <span class=\"token punctuation\">{</span>\n  myStream$ <span class=\"token operator\">=</span> <span class=\"token function\">interval</span><span class=\"token punctuation\">(</span><span class=\"token number\">1000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  subscription<span class=\"token operator\">:</span> Subscription<span class=\"token punctuation\">;</span>\n  tick<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token function\">ngOnInit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>subscription <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>myStream$<span class=\"token punctuation\">.</span><span class=\"token function\">subscribe</span><span class=\"token punctuation\">(</span>tick <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>tick <span class=\"token operator\">=</span> tick<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">ngOnDestroy</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>subscription<span class=\"token punctuation\">.</span><span class=\"token function\">unsubscribe</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>This can be written a lot shorter and maintainable using the AsyncPipe:</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token decorator\"><span class=\"token at operator\">@</span><span class=\"token function\">Component</span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  selector<span class=\"token operator\">:</span> <span class=\"token string\">'my-app'</span><span class=\"token punctuation\">,</span>\n  template<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">&lt;p>\n      Tick: {% raw %}{{ myStream$ | async }}{% endraw %}\n    &lt;/p></span><span class=\"token template-punctuation string\">`</span></span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">AppComponent</span>  <span class=\"token punctuation\">{</span>\n  myStream$ <span class=\"token operator\">=</span> <span class=\"token function\">interval</span><span class=\"token punctuation\">(</span><span class=\"token number\">1000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<blockquote>\n<p>RULE: USE ANGULAR’S ASYNCPIPE WHERE POSSIBLE</p>\n</blockquote>\n<h2 id=\"yo-dawg-i-heard-you-like-subscriptions\" style=\"position:relative;\"><a href=\"#yo-dawg-i-heard-you-like-subscriptions\" aria-label=\"yo dawg i heard you like subscriptions permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Yo dawg, I heard you like Subscriptions</h2>\n<p><img src=\"./img/2y7avi.jpg%22\" alt=\"Xzibit: I put a subscription inside your subscription\"></p>\n<p>This should be basic knowledge by anyone using the Observable pattern.\nApart from being extremely ugly to look at, it’s near impossible to keep track of what subscription is open at which moment.\nConsider the following example:</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\">subscription1 <span class=\"token operator\">=</span> param$<span class=\"token punctuation\">.</span><span class=\"token function\">subscribe</span><span class=\"token punctuation\">(</span>param <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  subscription2 <span class=\"token operator\">=</span> apiService<span class=\"token punctuation\">.</span><span class=\"token function\">getObject</span><span class=\"token punctuation\">(</span>param<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">subscribe</span><span class=\"token punctuation\">(</span>obj <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>obj <span class=\"token operator\">=</span> obj<span class=\"token punctuation\">;</span>\n    subscription3 <span class=\"token operator\">=</span> anotherApiService<span class=\"token punctuation\">.</span><span class=\"token function\">getEvents</span><span class=\"token punctuation\">(</span>obj<span class=\"token punctuation\">.</span>busId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">subscribe</span><span class=\"token punctuation\">(</span>events <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>events <span class=\"token operator\">=</span> events<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token function\">onDestroy</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  subscription1<span class=\"token punctuation\">.</span><span class=\"token function\">unsubscribe</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>subscription2 <span class=\"token operator\">&amp;&amp;</span> <span class=\"token operator\">!</span>subscription2<span class=\"token punctuation\">.</span>closed<span class=\"token punctuation\">)</span> subscription2<span class=\"token punctuation\">.</span><span class=\"token function\">unsubscribe</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>subscription3 <span class=\"token operator\">&amp;&amp;</span> <span class=\"token operator\">!</span>subscription3<span class=\"token punctuation\">.</span>closed<span class=\"token punctuation\">)</span> subscription3<span class=\"token punctuation\">.</span><span class=\"token function\">unsubscribe</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>In this case, when the <code class=\"language-text\">param$</code> stream emits a value, the <code class=\"language-text\">obj</code> is requested from an API endpoint and when received, it will in its turn request events occurring on a specific <code class=\"language-text\">busId</code>.\nBut what happens when <code class=\"language-text\">param$</code> emits a new value? The <code class=\"language-text\">obj</code>property will be replaced eventually, but the event stream for the first object will still exist.\nSo you could start keeping track of subscriptions and cancel them at the ‘right’ moment:</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\">subscription1 <span class=\"token operator\">=</span> param$<span class=\"token punctuation\">.</span><span class=\"token function\">subscribe</span><span class=\"token punctuation\">(</span>param <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>subscription2 <span class=\"token operator\">&amp;&amp;</span> <span class=\"token operator\">!</span>subscription2<span class=\"token punctuation\">.</span>closed<span class=\"token punctuation\">)</span> subscription2<span class=\"token punctuation\">.</span><span class=\"token function\">unsubscribe</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  subscription2 <span class=\"token operator\">=</span> apiService<span class=\"token punctuation\">.</span><span class=\"token function\">getObject</span><span class=\"token punctuation\">(</span>param<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">subscribe</span><span class=\"token punctuation\">(</span>obj <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>obj <span class=\"token operator\">=</span> obj<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>subscription3 <span class=\"token operator\">&amp;&amp;</span> <span class=\"token operator\">!</span>subscription3<span class=\"token punctuation\">.</span>closed<span class=\"token punctuation\">)</span> subscription3<span class=\"token punctuation\">.</span><span class=\"token function\">unsubscribe</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    subscription3 <span class=\"token operator\">=</span> anotherApiService<span class=\"token punctuation\">.</span><span class=\"token function\">getEvents</span><span class=\"token punctuation\">(</span>obj<span class=\"token punctuation\">.</span>busId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">subscribe</span><span class=\"token punctuation\">(</span>events <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>events <span class=\"token operator\">=</span> events<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token function\">onDestroy</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  subscription1<span class=\"token punctuation\">.</span><span class=\"token function\">unsubscribe</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>subscription2 <span class=\"token operator\">&amp;&amp;</span> <span class=\"token operator\">!</span>subscription2<span class=\"token punctuation\">.</span>closed<span class=\"token punctuation\">)</span> subscription2<span class=\"token punctuation\">.</span><span class=\"token function\">unsubscribe</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>subscription3 <span class=\"token operator\">&amp;&amp;</span> <span class=\"token operator\">!</span>subscription3<span class=\"token punctuation\">.</span>closed<span class=\"token punctuation\">)</span> subscription3<span class=\"token punctuation\">.</span><span class=\"token function\">unsubscribe</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Wow! That’s amazing!\nExcept it isn’t.\nThere are still 3 subscriptions, while it could be done with just 1 when using the correct operators:</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\">subscription1 <span class=\"token operator\">=</span> param$<span class=\"token punctuation\">.</span><span class=\"token function\">pipe</span><span class=\"token punctuation\">(</span>\n  <span class=\"token function\">switchMap</span><span class=\"token punctuation\">(</span>param <span class=\"token operator\">=></span> apiService<span class=\"token punctuation\">.</span><span class=\"token function\">getObject</span><span class=\"token punctuation\">(</span>param<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token function\">tap</span><span class=\"token punctuation\">(</span>obj <span class=\"token operator\">=></span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>obj <span class=\"token operator\">=</span> obj<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token function\">switchMap</span><span class=\"token punctuation\">(</span>obj <span class=\"token operator\">=></span> anotherApiService<span class=\"token punctuation\">.</span><span class=\"token function\">getEvents</span><span class=\"token punctuation\">(</span>obj<span class=\"token punctuation\">.</span>busId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">subscribe</span><span class=\"token punctuation\">(</span>events <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>events <span class=\"token operator\">=</span> events<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token function\">onDestroy</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  subscription1<span class=\"token punctuation\">.</span><span class=\"token function\">unsubscribe</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>This way, only 1 subscription will exist, canceling it will automatically cancel any inner streams.\nAnd when <code class=\"language-text\">param$</code> would emit a new value, the <code class=\"language-text\">switchMap</code> operator will automatically cancel its inner stream and create a new one.</p>\n<blockquote>\n<p>RULE: NEVER SUBSCRIBE WITHIN A SUBSCRIPTION<br/></p>\n</blockquote>\n<p>This also applies for calling a function inside a subscription when that function has a subscription.</p>\n<h2 id=\"sharing-is-caring\" style=\"position:relative;\"><a href=\"#sharing-is-caring\" aria-label=\"sharing is caring permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Sharing is caring</h2>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 640px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 60%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAMABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAQBAwX/xAAVAQEBAAAAAAAAAAAAAAAAAAADAv/aAAwDAQACEAMQAAABSdi4kwh4SP/EABsQAQACAgMAAAAAAAAAAAAAAAIBAwAEESEi/9oACAEBAAEFAtXuxlOMqXFjnwAVH//EABURAQEAAAAAAAAAAAAAAAAAABBB/9oACAEDAQE/AYf/xAAWEQADAAAAAAAAAAAAAAAAAAABEDH/2gAIAQIBAT8BNX//xAAaEAEAAgMBAAAAAAAAAAAAAAABABACEVEh/9oACAEBAAY/Al5OUh4Vtxn/xAAbEAEAAgIDAAAAAAAAAAAAAAABABEhQTFhcf/aAAgBAQABPyEOgEJAudMcKOog0TRLnfvMSCW+5//aAAwDAQACAAMAAAAQ+M//xAAWEQEBAQAAAAAAAAAAAAAAAAABECH/2gAIAQMBAT8QAxP/xAAWEQEBAQAAAAAAAAAAAAAAAAARARD/2gAIAQIBAT8QVWf/xAAdEAEAAwACAwEAAAAAAAAAAAABABEhMUGBkaHx/9oACAEBAAE/ENw5aC7XjxkeQWFwRMH5LcqVMUri00fkbezojfcfTOYjoemf/9k='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Cat with big bowl of food: What do you mean, I have to share?\"\n        title=\"Cat with big bowl of food: What do you mean, I have to share?\"\n        src=\"/static/f3b69861dfc90c9b74a17252c5e34503/c08c5/2y7xld.jpg\"\n        srcset=\"/static/f3b69861dfc90c9b74a17252c5e34503/4146e/2y7xld.jpg 195w,\n/static/f3b69861dfc90c9b74a17252c5e34503/e52b6/2y7xld.jpg 390w,\n/static/f3b69861dfc90c9b74a17252c5e34503/c08c5/2y7xld.jpg 640w\"\n        sizes=\"(max-width: 640px) 100vw, 640px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\"><p>Cat with big bowl of food: What do you mean, I have to share?</p></figcaption>\n  </figure></p>\n<p>When using a stream on multiple locations, remember that there is a difference between a cold and a hot Observable.\nIn short: a cold Observable will restart its stream for each subscription, while a hot Observable will reuse an existing stream when a subscription is added.\nThink of a cold Observable as a HTTP request, which fires each time again, and a hot Observable as a keyPress stream which emits the same event no matter how many subscriptions exist on the stream.\nIf you need more details, you can read this article by Ben Lesh <a href=\"https://medium.com/@benlesh/hot-vs-cold-observables-f8094ed53339\">Hot vs Cold Observables</a>.</p>\n<p>Sometimes you’ll need to react on a cold Observable in multiple separate streams.\nFor example, you need to display the response, but you also need to initiate a new stream to get other data.\nSo you’ll create two subscriptions and use a <strong>mergeMap</strong>, because subscriptions inside subscriptions are not allowed:</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\">stream1 <span class=\"token operator\">=</span> <span class=\"token function\">httpGet</span><span class=\"token punctuation\">(</span><span class=\"token string\">'userCarMake'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nstream2 <span class=\"token operator\">=</span> stream1<span class=\"token punctuation\">.</span><span class=\"token function\">pipe</span><span class=\"token punctuation\">(</span><span class=\"token function\">mergeMap</span><span class=\"token punctuation\">(</span>make <span class=\"token operator\">=></span> <span class=\"token function\">httpGet</span><span class=\"token punctuation\">(</span><span class=\"token string\">'userCarMake'</span><span class=\"token punctuation\">,</span> make<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nstream1<span class=\"token punctuation\">.</span><span class=\"token function\">subscribe</span><span class=\"token punctuation\">(</span>make <span class=\"token operator\">=></span> <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'The car make is'</span><span class=\"token punctuation\">,</span> make<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nstream2<span class=\"token punctuation\">.</span><span class=\"token function\">subscribe</span><span class=\"token punctuation\">(</span>models <span class=\"token operator\">=></span> <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'The models for this make are'</span><span class=\"token punctuation\">,</span> models<span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>But in your developer tools’ network tab, you notice that <strong>userCarMake</strong> has been requested twice.\nThe answer to why should be obvious by now: there are two subscriptions.\nTo solve this with minimal changes, make the source stream a hot Observable using <a href=\"https://www.learnrxjs.io/operators/multicasting/sharereplay.html\"><strong>shareReplay</strong></a>.</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\">stream1 <span class=\"token operator\">=</span> <span class=\"token function\">httpGet</span><span class=\"token punctuation\">(</span><span class=\"token string\">'userCarMake'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">pipe</span><span class=\"token punctuation\">(</span><span class=\"token function\">shareReplay</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nstream2 <span class=\"token operator\">=</span> stream1<span class=\"token punctuation\">.</span><span class=\"token function\">pipe</span><span class=\"token punctuation\">(</span><span class=\"token function\">mergeMap</span><span class=\"token punctuation\">(</span>make <span class=\"token operator\">=></span> <span class=\"token function\">httpGet</span><span class=\"token punctuation\">(</span><span class=\"token string\">'userCarMake'</span><span class=\"token punctuation\">,</span> make<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nstream1<span class=\"token punctuation\">.</span><span class=\"token function\">subscribe</span><span class=\"token punctuation\">(</span>make <span class=\"token operator\">=></span> <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'The car make is'</span><span class=\"token punctuation\">,</span> make<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nstream2<span class=\"token punctuation\">.</span><span class=\"token function\">subscribe</span><span class=\"token punctuation\">(</span>models <span class=\"token operator\">=></span> <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'The models for this make are'</span><span class=\"token punctuation\">,</span> models<span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<blockquote>\n<p>RULE: MAKE YOUR OBSERVABLES HOT WHEN NECESSARY</p>\n</blockquote>\n<p>Though be careful when using this operator.\nIf the source doesn’t complete by itself, it will keep emitting values.\nTo prevent this behaviour, use an options object in the <code class=\"language-text\">shareReplay</code> operator and set the required property <strong>refCount</strong> to true:</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\">sharedStream <span class=\"token operator\">=</span> source<span class=\"token punctuation\">.</span><span class=\"token function\">pipe</span><span class=\"token punctuation\">(</span><span class=\"token function\">shareReplay</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>bufferSize<span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> refCount<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>See <a href=\"https://stackblitz.com/edit/using-sharereplay\">this stackblitz</a> for an example of the difference.\nYou can set a tslint rule to make sure you always use <code class=\"language-text\">shareReplay</code> with options.\nHere you can find the configuration: <a href=\"https://github.com/cartant/rxjs-tslint-rules#rxjs-no-sharereplay\">rxjs-tslint-rules: rxjs-no-sharereplay</a>.</p>\n<h3 id=\"angular-specific-use-sharereplay-with-asyncpipe\" style=\"position:relative;\"><a href=\"#angular-specific-use-sharereplay-with-asyncpipe\" aria-label=\"angular specific use sharereplay with asyncpipe permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Angular specific: use shareReplay with AsyncPipe</h3>\n<p>A point of note for Angular’s AsyncPipe is that each AsyncPipe will create a new subscription.\nUse <strong>shareReplay</strong> when multiple AsyncPipes are used on the same stream or a stream depending on it.</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token decorator\"><span class=\"token at operator\">@</span><span class=\"token function\">Component</span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  selector<span class=\"token operator\">:</span> <span class=\"token string\">'my-app'</span><span class=\"token punctuation\">,</span>\n  template<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">&lt;ng-container *ngIf=\"hasItems$ | async\">\n    &lt;p *ngFor=\"let item of items$ | async\">\n      Tick: {% raw %}{{ item }}{% endraw %}\n    &lt;/p>\n    &lt;/ng-container></span><span class=\"token template-punctuation string\">`</span></span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">AppComponent</span>  <span class=\"token punctuation\">{</span>\n  items$ <span class=\"token operator\">=</span> <span class=\"token function\">getItems</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">pipe</span><span class=\"token punctuation\">(</span><span class=\"token function\">shareReplay</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  hasItems$ <span class=\"token operator\">=</span> items$<span class=\"token punctuation\">.</span><span class=\"token function\">pipe</span><span class=\"token punctuation\">(</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span>items <span class=\"token operator\">=></span> items<span class=\"token punctuation\">.</span>length <span class=\"token operator\">></span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2 id=\"my-stream-is-too-big\" style=\"position:relative;\"><a href=\"#my-stream-is-too-big\" aria-label=\"my stream is too big permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>My stream is too big</h2>\n<p style=\"text-align: center;\">\n  ![Boy with a giant spoon: My stream is too big](./img/2y7st6.jpg\")\n</p>\n<p>One of the major advantages of using streams is that you can write declarative code.\nDeclarative code means that the code can explain itself without the need of comments.\nGreat!\nNow developers don’t need to worry about writing comments anymore.\nRxJS provides a lot of operators that are self-explanatory: <code class=\"language-text\">map</code>, <code class=\"language-text\">filter</code>, <code class=\"language-text\">withLatestFrom</code>, <code class=\"language-text\">catchError</code>, …\nSo what’s the problem?\nIt’s something what I’ve noticed a lot lately.\nA stream with so many piped operators that it isn’t even funny anymore.\nLet’s look at the following stream: (<em>Note: this is a slightly modified stream from the file spoken of earlier, because I just can’t come up with this stuff.</em>)</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>childObject$ <span class=\"token operator\">=</span> <span class=\"token function\">merge</span><span class=\"token punctuation\">(</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>startFetch$<span class=\"token punctuation\">.</span><span class=\"token function\">pipe</span><span class=\"token punctuation\">(</span>\n        <span class=\"token function\">switchMap</span><span class=\"token punctuation\">(</span>_ <span class=\"token operator\">=></span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>parentObject$<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        <span class=\"token function\">withLatestFrom</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>cancelled$<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        <span class=\"token function\">filter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>parentObject<span class=\"token punctuation\">,</span> cancelled<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> cancelled <span class=\"token operator\">!==</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        <span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>parentObject<span class=\"token punctuation\">,</span> _<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> parentObject<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        <span class=\"token function\">filter</span><span class=\"token punctuation\">(</span>\n            parentObject <span class=\"token operator\">=></span>\n            <span class=\"token operator\">!</span><span class=\"token function\">isNullOrUndefined</span><span class=\"token punctuation\">(</span>parentObject<span class=\"token punctuation\">)</span> <span class=\"token operator\">&amp;&amp;</span>\n            parentObject<span class=\"token punctuation\">.</span>subObjects<span class=\"token punctuation\">.</span>length <span class=\"token operator\">></span> <span class=\"token number\">0</span> <span class=\"token operator\">&amp;&amp;</span>\n            parentObject<span class=\"token punctuation\">.</span>errors<span class=\"token punctuation\">.</span><span class=\"token function\">findIndex</span><span class=\"token punctuation\">(</span>\n                <span class=\"token punctuation\">(</span>error<span class=\"token operator\">:</span> parentObjectError<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span>\n                error<span class=\"token punctuation\">.</span>errorCause <span class=\"token operator\">===</span> parentObjectErrorCauseEnum<span class=\"token punctuation\">.</span><span class=\"token constant\">HEIGHT_EXCEEDED</span>\n            <span class=\"token punctuation\">)</span> <span class=\"token operator\">===</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span>\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        <span class=\"token function\">withLatestFrom</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>collectionId$<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        <span class=\"token function\">switchMap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>parentObject<span class=\"token punctuation\">,</span> collectionId<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span>\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>service<span class=\"token punctuation\">.</span><span class=\"token function\">getChildObjectList</span><span class=\"token punctuation\">(</span>parentObject<span class=\"token punctuation\">.</span>subObjects<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">,</span> collectionId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">pipe</span><span class=\"token punctuation\">(</span>\n                <span class=\"token function\">catchError</span><span class=\"token punctuation\">(</span>error <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n                    <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'error while retrieving second object list'</span><span class=\"token punctuation\">,</span> error<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                    <span class=\"token keyword\">return</span> <span class=\"token constant\">EMPTY</span><span class=\"token punctuation\">;</span>\n                <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                <span class=\"token function\">take</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        <span class=\"token function\">switchMap</span><span class=\"token punctuation\">(</span>childObjectList <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>childObjectList <span class=\"token operator\">&amp;&amp;</span> childObjectList<span class=\"token punctuation\">.</span>length <span class=\"token operator\">></span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>isLastChildObject$<span class=\"token punctuation\">.</span><span class=\"token function\">next</span><span class=\"token punctuation\">(</span>childObjectList<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>isLast<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token function\">isValidChildObject</span><span class=\"token punctuation\">(</span>childObjectList<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>isFormValid$<span class=\"token punctuation\">.</span><span class=\"token function\">next</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n                    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>isFormValid$<span class=\"token punctuation\">.</span><span class=\"token function\">next</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token punctuation\">}</span>\n                <span class=\"token keyword\">return</span> <span class=\"token keyword\">of</span><span class=\"token punctuation\">(</span>childObjectList<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>startFetch$<span class=\"token punctuation\">.</span><span class=\"token function\">next</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token keyword\">return</span> <span class=\"token constant\">EMPTY</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        <span class=\"token function\">map</span><span class=\"token punctuation\">(</span>childObjectList <span class=\"token operator\">=></span> childObjectList<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>startFetch$<span class=\"token punctuation\">.</span><span class=\"token function\">pipe</span><span class=\"token punctuation\">(</span><span class=\"token function\">mapTo</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">pipe</span><span class=\"token punctuation\">(</span><span class=\"token function\">shareReplay</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>bufferSize<span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> refCount<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>childObject$<span class=\"token punctuation\">.</span><span class=\"token function\">subscribe</span><span class=\"token punctuation\">(</span>childObject <span class=\"token operator\">=></span> <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Second object is'</span><span class=\"token punctuation\">,</span> childObject<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>isFormValid$<span class=\"token punctuation\">.</span><span class=\"token function\">subscribe</span><span class=\"token punctuation\">(</span>isFormValid <span class=\"token operator\">=></span> <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Form valid?'</span><span class=\"token punctuation\">,</span> isFormValid<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>isLastChildObject$<span class=\"token punctuation\">.</span><span class=\"token function\">subscribe</span><span class=\"token punctuation\">(</span>lastChildObject <span class=\"token operator\">=></span> <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Second object is last from list'</span><span class=\"token punctuation\">,</span> lastChildObject<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Can anyone explain what is going on here?\nIf you’re reading this blog than you probably have some experience with RxJS and probably understand the meaning of the operators used in this example.\nAnd while it might be readable for an insightful developer, try to imagine a newbie getting thrown into a project where this is presented.\nI bet they won’t be very inspired or motivated to work on this.\nWhen that happens, you have to split up the stream, just like you’d split up functions that get too big.\nThis might mean a bit more lines, but it would make the code a lot more readable.</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token function\">isParentObjectValid</span><span class=\"token punctuation\">(</span>parentObject<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token operator\">!</span><span class=\"token function\">isNullOrUndefined</span><span class=\"token punctuation\">(</span>parentObject<span class=\"token punctuation\">)</span> <span class=\"token operator\">&amp;&amp;</span>\n        parentObject<span class=\"token punctuation\">.</span>subObjects<span class=\"token punctuation\">.</span>length <span class=\"token operator\">></span> <span class=\"token number\">0</span> <span class=\"token operator\">&amp;&amp;</span>\n        parentObject<span class=\"token punctuation\">.</span>errors<span class=\"token punctuation\">.</span><span class=\"token function\">findIndex</span><span class=\"token punctuation\">(</span>\n            <span class=\"token punctuation\">(</span>error<span class=\"token operator\">:</span> parentObjectError<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span>\n            error<span class=\"token punctuation\">.</span>errorCause <span class=\"token operator\">===</span> parentObjectErrorCauseEnum<span class=\"token punctuation\">.</span><span class=\"token constant\">HEIGHT_EXCEEDED</span>\n        <span class=\"token punctuation\">)</span> <span class=\"token operator\">===</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token function\">getChildObjectList</span><span class=\"token punctuation\">(</span>subObjectId<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>collectionId$<span class=\"token punctuation\">.</span><span class=\"token function\">pipe</span><span class=\"token punctuation\">(</span>\n        <span class=\"token function\">take</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        <span class=\"token function\">switchMap</span><span class=\"token punctuation\">(</span>collectionId <span class=\"token operator\">=></span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>service<span class=\"token punctuation\">.</span><span class=\"token function\">getChildObjectList</span><span class=\"token punctuation\">(</span>subObjectId<span class=\"token punctuation\">,</span> collectionId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        <span class=\"token function\">catchError</span><span class=\"token punctuation\">(</span>error <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n            <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'error while retrieving second object list'</span><span class=\"token punctuation\">,</span> error<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token keyword\">return</span> <span class=\"token constant\">EMPTY</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token function\">getFirstItemFromChildObjectList</span><span class=\"token punctuation\">(</span>childObjectList<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>childObjectList <span class=\"token operator\">&amp;&amp;</span> childObjectList<span class=\"token punctuation\">.</span>length <span class=\"token operator\">></span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>isLastChildObject$<span class=\"token punctuation\">.</span><span class=\"token function\">next</span><span class=\"token punctuation\">(</span>childObjectList<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>isLast<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token function\">isValidChildObject</span><span class=\"token punctuation\">(</span>childObjectList<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>isFormValid$<span class=\"token punctuation\">.</span><span class=\"token function\">next</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>isFormValid$<span class=\"token punctuation\">.</span><span class=\"token function\">next</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n        <span class=\"token keyword\">return</span> <span class=\"token keyword\">of</span><span class=\"token punctuation\">(</span>childObjectList<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>startFetch$<span class=\"token punctuation\">.</span><span class=\"token function\">next</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">return</span> <span class=\"token constant\">EMPTY</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>childObject$ <span class=\"token operator\">=</span> <span class=\"token function\">merge</span><span class=\"token punctuation\">(</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>startFetch$<span class=\"token punctuation\">.</span><span class=\"token function\">pipe</span><span class=\"token punctuation\">(</span>\n        <span class=\"token function\">switchMap</span><span class=\"token punctuation\">(</span>_ <span class=\"token operator\">=></span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>parentObject$<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        <span class=\"token function\">withLatestFrom</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>cancelled$<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        <span class=\"token function\">filter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>parentObject<span class=\"token punctuation\">,</span> cancelled<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token operator\">!</span>cancelled <span class=\"token operator\">&amp;&amp;</span> <span class=\"token function\">isParentObjectValid</span><span class=\"token punctuation\">(</span>parentObject<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        <span class=\"token function\">switchMap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>parentObject<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">getChildObjectList</span><span class=\"token punctuation\">(</span>parentObject<span class=\"token punctuation\">.</span>subObjects<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        <span class=\"token function\">switchMap</span><span class=\"token punctuation\">(</span>childObjectList <span class=\"token operator\">=></span> <span class=\"token function\">getFirstItemFromChildObjectList</span><span class=\"token punctuation\">(</span>childObjectList<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>startFetch$<span class=\"token punctuation\">.</span><span class=\"token function\">pipe</span><span class=\"token punctuation\">(</span><span class=\"token function\">mapTo</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">pipe</span><span class=\"token punctuation\">(</span><span class=\"token function\">shareReplay</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>bufferSize<span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> refCount<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>childObject$<span class=\"token punctuation\">.</span><span class=\"token function\">subscribe</span><span class=\"token punctuation\">(</span>childObject <span class=\"token operator\">=></span> <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Second object is'</span><span class=\"token punctuation\">,</span> childObject<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>isFormValid$<span class=\"token punctuation\">.</span><span class=\"token function\">subscribe</span><span class=\"token punctuation\">(</span>isFormValid <span class=\"token operator\">=></span> <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Form valid?'</span><span class=\"token punctuation\">,</span> isFormValid<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>isLastChildObject$<span class=\"token punctuation\">.</span><span class=\"token function\">subscribe</span><span class=\"token punctuation\">(</span>lastChildObject <span class=\"token operator\">=></span> <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Second object is last from list'</span><span class=\"token punctuation\">,</span> lastChildObject<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Now it’s more possible to test various situations for each inner stream and mock the individual outcomes to be used in a test for the outer stream.\nWe can even move parts to separate files or classes, but for the sake of this example we’ll keep everything together.\nIt’s not yet perfect, but it gives some room to breathe.\nAt least we can now read quickly what the outer stream is supposed to do.\nNotice that there are no longer pipe functions within other pipe functions.\nThis makes a stream more streamlined (pun intended, really).</p>\n<blockquote>\n<p>RULE: SPLIT UP YOUR STREAMS AND USE DECLARATIVE FUNCTIONS INSIDE THE OPERATORS</p>\n</blockquote>\n<blockquote>\n<p>RULE: TRY TO REDUCE THE USE OF PIPE INSIDE PIPE, UNLESS IT’S IN A SEPARATE FUNCTION</p>\n</blockquote>\n<h2 id=\"impurity-and-side-effects\" style=\"position:relative;\"><a href=\"#impurity-and-side-effects\" aria-label=\"impurity and side effects permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Impurity and side effects</h2>\n<p style=\"text-align: center;\">\n  ![Boromir: One does not simply set a subject's next value inside a stream](./img/2y84y7.jpg\")\n</p>\n<p>Pure functions are functions that will always return the same value for the same input parameters, keep state local and do not alter the input parameters.\nIn the previous example the created function <strong>isParentObjectValid</strong> is pure, but <strong>getChildObjectList</strong> and <strong>getFirstItemFromChildObjectList</strong> aren’t.\nOf course not everything can be written in only pure functions, but we should at least try as much as possible.\nThe same can apply for streams.\nA “pure” stream is a stream which produces the same value for the same source, does not alter the source and produces no side effects.\nThis means that it should not set events on a different stream and should not set or read a value from outside its scope.\nFor example, the following blocks will do the same, but one keeps its state inside the Observable scope, which is safer.</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">let</span> _score <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n<span class=\"token keyword\">const</span> score$ <span class=\"token operator\">=</span> goals$<span class=\"token punctuation\">.</span><span class=\"token function\">pipe</span><span class=\"token punctuation\">(</span>\n    <span class=\"token function\">map</span><span class=\"token punctuation\">(</span>goalPoints <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n        _score <span class=\"token operator\">+=</span> goalPoints<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">return</span> _score<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// Keeping state within the stream is better:</span>\n\n<span class=\"token keyword\">const</span> betterScore$ <span class=\"token operator\">=</span> goals$<span class=\"token punctuation\">.</span><span class=\"token function\">pipe</span><span class=\"token punctuation\">(</span>\n    <span class=\"token function\">scan</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>totalScore<span class=\"token punctuation\">,</span> goalPoints<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> totalScore <span class=\"token operator\">+</span> goalPoints<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Notice the use of the <code class=\"language-text\">scan</code> operator instead of a <code class=\"language-text\">map</code>.\nIf you have side effects, you might be using the wrong operators.\nMore about that a bit later in this post.</p>\n<p>I believe that a stream should always be a constant and never be reinitialized.\nLuckily it’s possible to create <a href=\"https://github.com/ReactiveX/rxjs/blob/master/doc/pipeable-operators.md#build-your-own-operators-easily\">custom pipe operators</a> for these situations.</p>\n<p>Let’s continue based on the example from the previous chapter:</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>nonCancelledParentObject$ <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>parentObject$<span class=\"token punctuation\">.</span><span class=\"token function\">pipe</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">onlyNonCancelledParentObject</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>cancelled$<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>childObjectList$ <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>nonCancelledParentObject$<span class=\"token punctuation\">.</span><span class=\"token function\">pipe</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">childObjectListForCollection</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>collectionId$<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>firstItemOfChildObjectList$ <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>childObjectList$<span class=\"token punctuation\">.</span><span class=\"token function\">pipe</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>selectFirstItemOfList<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>isLastChildObject$ <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>firstItemOfChildObjectList$<span class=\"token punctuation\">.</span><span class=\"token function\">pipe</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>isChildObjectLastInList<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>isFormValid$ <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>firstItemOfChildObjectList$<span class=\"token punctuation\">.</span><span class=\"token function\">pipe</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>isChildObjectValid<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>startFetch$ <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>childObjectList$<span class=\"token punctuation\">.</span><span class=\"token function\">pipe</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>isListEmpty<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>childObject$ <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>firstItemOfChildObjectList$<span class=\"token punctuation\">.</span><span class=\"token function\">pipe</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">createStreamOnTrigger</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>startFetch$<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token function-variable function\">onlyNonCancelledParentObject</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>cancelled$<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>parentObject$<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> parentObject$<span class=\"token punctuation\">.</span><span class=\"token function\">pipe</span><span class=\"token punctuation\">(</span>\n        <span class=\"token function\">withLatestFrom</span><span class=\"token punctuation\">(</span>cancelled$<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        <span class=\"token function\">filter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>parentObject<span class=\"token punctuation\">,</span> cancelled<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token operator\">!</span>cancelled <span class=\"token operator\">&amp;&amp;</span> <span class=\"token function\">isParentObjectValid</span><span class=\"token punctuation\">(</span>parentObject<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        <span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>parentObject<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> parentObject<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token function-variable function\">childObjectListForCollection</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>collectionId$<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>nonCancelledParentObject$<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> nonCancelledParentObject$<span class=\"token punctuation\">.</span><span class=\"token function\">pipe</span><span class=\"token punctuation\">(</span>\n        <span class=\"token function\">take</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        <span class=\"token function\">map</span><span class=\"token punctuation\">(</span>parentObject <span class=\"token operator\">=></span> parentObject<span class=\"token punctuation\">.</span>subObjects<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        <span class=\"token function\">withLatestFrom</span><span class=\"token punctuation\">(</span>collectionId$<span class=\"token punctuation\">)</span>\n        <span class=\"token function\">switchMap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>subObjectId<span class=\"token punctuation\">,</span> collectionId<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>service<span class=\"token punctuation\">.</span><span class=\"token function\">getChildObjectList</span><span class=\"token punctuation\">(</span>subObjectId<span class=\"token punctuation\">,</span> collectionId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        <span class=\"token function\">catchError</span><span class=\"token punctuation\">(</span>error <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n            <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'error while retrieving second object list'</span><span class=\"token punctuation\">,</span> error<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token keyword\">return</span> <span class=\"token constant\">EMPTY</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\nisListEmpty <span class=\"token operator\">=</span> <span class=\"token function\">filter</span><span class=\"token punctuation\">(</span>list <span class=\"token operator\">=></span> list <span class=\"token operator\">&amp;&amp;</span> list<span class=\"token punctuation\">.</span>length <span class=\"token operator\">></span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token function-variable function\">selectFirstItemOfList</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>childObjectList$<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> childObjectList$<span class=\"token punctuation\">.</span><span class=\"token function\">pipe</span><span class=\"token punctuation\">(</span>\n        <span class=\"token function\">filter</span><span class=\"token punctuation\">(</span>childObjectList <span class=\"token operator\">=></span> childObjectList <span class=\"token operator\">&amp;&amp;</span> childObjectList<span class=\"token punctuation\">.</span>length <span class=\"token operator\">></span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        <span class=\"token function\">map</span><span class=\"token punctuation\">(</span>childObjectList <span class=\"token operator\">=></span> childObjectList<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        <span class=\"token function\">shareReplay</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>bufferSize<span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> refCount<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\nisChildObjectLastInList <span class=\"token operator\">=</span> <span class=\"token function\">map</span><span class=\"token punctuation\">(</span>childObject <span class=\"token operator\">=></span> childObject<span class=\"token punctuation\">.</span>isLast<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nisChildObjectValid <span class=\"token operator\">=</span> <span class=\"token function\">map</span><span class=\"token punctuation\">(</span>childObject <span class=\"token operator\">=></span> <span class=\"token function\">isValidChildObject</span><span class=\"token punctuation\">(</span>childObject<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token function-variable function\">createStreamOnTrigger</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>trigger$<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>source$<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> trigger$<span class=\"token punctuation\">.</span><span class=\"token function\">pipe</span><span class=\"token punctuation\">(</span>\n        <span class=\"token function\">switchMap</span><span class=\"token punctuation\">(</span>_ <span class=\"token operator\">=></span> source$<span class=\"token punctuation\">.</span><span class=\"token function\">pipe</span><span class=\"token punctuation\">(</span>\n            <span class=\"token function\">take</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n            <span class=\"token function\">startWith</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        <span class=\"token function\">shareReplay</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>bufferSize<span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> refCount<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>childObject$<span class=\"token punctuation\">.</span><span class=\"token function\">subscribe</span><span class=\"token punctuation\">(</span>childObject <span class=\"token operator\">=></span> <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Second object is'</span><span class=\"token punctuation\">,</span> childObject<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>isFormValid$<span class=\"token punctuation\">.</span><span class=\"token function\">subscribe</span><span class=\"token punctuation\">(</span>isFormValid <span class=\"token operator\">=></span> <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Form valid?'</span><span class=\"token punctuation\">,</span> isFormValid<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>isLastChildObject$<span class=\"token punctuation\">.</span><span class=\"token function\">subscribe</span><span class=\"token punctuation\">(</span>lastChildObject <span class=\"token operator\">=></span> <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Second object is last from list'</span><span class=\"token punctuation\">,</span> lastChildObject<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Now almost every part of the stream is created using a pure function as pipe operator.\nJust count the number of times the keyword <strong>this</strong> is used inside the functions (hint: we went from 10 times to only 1).\nThis could get even better if we pass the service’s function as a parameter too.\nEach of these custom operators can easily be tested with <a href=\"https://github.com/ReactiveX/rxjs/blob/master/docs_app/content/guide/testing/marble-testing.md\">marble testing</a>.\nIt’s more readable, because now you can know for each stream how its values are determined.\nFor example, in line 5, we can already read that the <strong>isFormValid</strong> will be changed by a change of the first item in the list of ChildObjects and that it will react on the validity of that object.\nWe no longer need to sift through the code to find that out.</p>\n<p>You’ll notice that there are a lot of streams now.\nMost of them are intermediary, so they could be scoped inside a different block.\nOr they can be moved to separate files to keep the main file clean and the streams grouped by logical unit, but always keep subscriptions in your main file.\nFor the sake of this example I kept all streams together.</p>\n<blockquote>\n<p>RULE: INSTANTIATE YOUR STREAMS WITH PURE FUNCTIONS SO THEY CAN BE TESTED AND MOVED EASILY</p>\n</blockquote>\n<blockquote>\n<p>RULE: TRY TO ELIMINATE THE USE OF SUBJECTS</p>\n</blockquote>\n<h3 id=\"angular-specific-handling-input-properties\" style=\"position:relative;\"><a href=\"#angular-specific-handling-input-properties\" aria-label=\"angular specific handling input properties permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Angular specific: handling @Input() properties</h3>\n<p>A common question I get with this approach is that some streams can not be defined until an <strong>@Input()</strong> property is set.\nRidiculous, there is no such thing as a “can not” in programming!\nConsider this example:</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token decorator\"><span class=\"token at operator\">@</span><span class=\"token function\">Component</span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  selector<span class=\"token operator\">:</span> <span class=\"token string\">'greet'</span><span class=\"token punctuation\">,</span>\n  template<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">&lt;h1>{% raw %}{{ message }}{% endraw %}&lt;/h1></span><span class=\"token template-punctuation string\">`</span></span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">GreetingComponent</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">OnInit</span><span class=\"token punctuation\">,</span> OnChanges <span class=\"token punctuation\">{</span>\n  <span class=\"token decorator\"><span class=\"token at operator\">@</span><span class=\"token function\">Input</span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> name<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">;</span>\n\n  message<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">private</span> service<span class=\"token operator\">:</span> APIService<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">ngOnInit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>service<span class=\"token punctuation\">.</span><span class=\"token function\">getMessage</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">subscribe</span><span class=\"token punctuation\">(</span>name <span class=\"token operator\">=></span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>message <span class=\"token operator\">=</span> name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">ngOnChanges</span><span class=\"token punctuation\">(</span>changes<span class=\"token operator\">:</span> SimpleChanges<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>changes<span class=\"token punctuation\">[</span><span class=\"token string\">'name'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">&amp;&amp;</span> changes<span class=\"token punctuation\">[</span><span class=\"token string\">'name'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>previousValue <span class=\"token operator\">!==</span> changes<span class=\"token punctuation\">[</span><span class=\"token string\">'name'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>currentValue<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n          <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>service<span class=\"token punctuation\">.</span><span class=\"token function\">getMessage</span><span class=\"token punctuation\">(</span>changes<span class=\"token punctuation\">[</span><span class=\"token string\">'name'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>currentValue<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">subscribe</span><span class=\"token punctuation\">(</span>name <span class=\"token operator\">=></span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>message <span class=\"token operator\">=</span> name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>This can be also be written as following:</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token decorator\"><span class=\"token at operator\">@</span><span class=\"token function\">Component</span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  selector<span class=\"token operator\">:</span> <span class=\"token string\">'greet'</span><span class=\"token punctuation\">,</span>\n  template<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">&lt;h1>{% raw %}{{ message$ | async }}{% endraw %}&lt;/h1></span><span class=\"token template-punctuation string\">`</span></span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">GreetingComponent</span>  <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">private</span> name$ <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ReplaySubject<span class=\"token operator\">&lt;</span><span class=\"token builtin\">string</span><span class=\"token operator\">></span></span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token decorator\"><span class=\"token at operator\">@</span><span class=\"token function\">Input</span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">set</span> <span class=\"token function\">name</span><span class=\"token punctuation\">(</span>name<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name$<span class=\"token punctuation\">.</span><span class=\"token function\">next</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n  message$ <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">createMessageStream</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name$<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">private</span> service<span class=\"token operator\">:</span> APIService<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">private</span> <span class=\"token function\">createMessageStream</span><span class=\"token punctuation\">(</span>name$<span class=\"token operator\">:</span> Observable<span class=\"token operator\">&lt;</span><span class=\"token builtin\">string</span><span class=\"token operator\">></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">return</span> name$<span class=\"token punctuation\">.</span><span class=\"token function\">pipe</span><span class=\"token punctuation\">(</span>\n        <span class=\"token function\">distinctUntilChanged</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        <span class=\"token function\">switchMap</span><span class=\"token punctuation\">(</span>name <span class=\"token operator\">=></span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>service<span class=\"token punctuation\">.</span><span class=\"token function\">getMessage</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<blockquote>\n<p>RULE: EVERYTHING CAN BE A STREAM</p>\n</blockquote>\n<p>Though it doesn’t always have to.</p>\n<h2 id=\"i-have-no-idea-what-im-doing\" style=\"position:relative;\"><a href=\"#i-have-no-idea-what-im-doing\" aria-label=\"i have no idea what im doing permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>I have no idea what I’m doing</h2>\n<p><img src=\"./img/dog.jpg%22\" alt=\"Dog on computer: I have no idea what I&#x27;m doing\"></p>\n<p>Last but not least, make sure you understand the flow of your streams.\nIf it gets too confusing, it will be a pain in the behind to find bugs or make changes without breaking something.\nBefore creating a stream, like anything in programming, analyse what your stream should exactly be doing.\nDo this by drawing marble diagrams.\nIf multiple streams are needed, make a diagram for each stream and place them under each other.\nUse marble testing to write easy to understand unit tests for streams.\nIn my experience, the package <a href=\"https://cartant.github.io/rxjs-marbles/\">rxjs-marbles</a> can help a lot with that.</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token function\">it</span><span class=\"token punctuation\">(</span><span class=\"token string\">'should emit parentObject only if not cancelled'</span><span class=\"token punctuation\">,</span> <span class=\"token function\">marbles</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>m<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    isParentObjectValidSpy<span class=\"token punctuation\">.</span><span class=\"token function\">mockImplementation</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>parentObj<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> parentObj <span class=\"token operator\">!==</span> <span class=\"token string\">'d'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">const</span> parentObject  <span class=\"token operator\">=</span> m<span class=\"token punctuation\">.</span><span class=\"token function\">hot</span><span class=\"token punctuation\">(</span><span class=\"token string\">'--^-a--b--c--d-|'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">const</span> cancelled  <span class=\"token operator\">=</span>    m<span class=\"token punctuation\">.</span><span class=\"token function\">hot</span><span class=\"token punctuation\">(</span><span class=\"token string\">'--^f-t---f-----|'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>t<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span> f<span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">const</span> subs <span class=\"token operator\">=</span>                  <span class=\"token string\">'^------------!'</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">const</span> expected  <span class=\"token operator\">=</span>             <span class=\"token string\">'--a-----c----|'</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">const</span> result <span class=\"token operator\">=</span> <span class=\"token function\">onlyNonCancelledParentObject</span><span class=\"token punctuation\">(</span>parentObject<span class=\"token punctuation\">,</span> cancelled<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    m<span class=\"token punctuation\">.</span><span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toBeObservable</span><span class=\"token punctuation\">(</span>expected<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    m<span class=\"token punctuation\">.</span><span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>parentObject<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toHaveSubscriptions</span><span class=\"token punctuation\">(</span>subs<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    m<span class=\"token punctuation\">.</span><span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>cancelled<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toHaveSubscriptions</span><span class=\"token punctuation\">(</span>subs<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<blockquote>\n<p>RULE: ANALYSE THE NEEDS OF YOUR STREAMS USING MARBLE DIAGRAMS</p>\n</blockquote>\n<p>When you know what your stream should do, then it’s time to build it.\nThere is a big amount of operators available in RxJS.\nThe most common are displayed in an interactive diagram at <a href=\"https://rxmarbles.com/\">rxmarbles.com</a>.</p>\n<p>It’s important that you know the differences between them.\nSome examples:\nThere’s a difference between using <strong>mergeMap</strong>, <strong>switchMap</strong>, <strong>concatMap</strong> and <strong>exhaustMap</strong> when making substreams.\nThere is a difference between using <strong>combineLatest</strong>, <strong>withLatestFrom</strong>, <strong>zip</strong> and <strong>forkJoin</strong> when combining streams.\nThere is also a subtle difference between <strong>first</strong> and <strong>take(1)</strong> when a stream would never emit a value and just complete:</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token comment\">// This will output 'error: no elements in sequence'</span>\n<span class=\"token constant\">EMPTY</span><span class=\"token punctuation\">.</span><span class=\"token function\">pipe</span><span class=\"token punctuation\">(</span><span class=\"token function\">first</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">subscribe</span><span class=\"token punctuation\">(</span>\n    event <span class=\"token operator\">=></span> <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'event'</span><span class=\"token punctuation\">,</span> event<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    error <span class=\"token operator\">=></span> <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'error:'</span><span class=\"token punctuation\">,</span> error<span class=\"token punctuation\">.</span>message<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'completed'</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// This will output 'completed'</span>\n<span class=\"token constant\">EMPTY</span><span class=\"token punctuation\">.</span><span class=\"token function\">pipe</span><span class=\"token punctuation\">(</span><span class=\"token function\">take</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">subscribe</span><span class=\"token punctuation\">(</span>\n    event <span class=\"token operator\">=></span> <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'event'</span><span class=\"token punctuation\">,</span> event<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    error <span class=\"token operator\">=></span> <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'error:'</span><span class=\"token punctuation\">,</span> error<span class=\"token punctuation\">.</span>message<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'completed'</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>The following guides can help to find which operators to use:</p>\n<ul>\n<li><a href=\"http://xgrommx.github.io/rx-book/content/which_operator_do_i_use/creation_operators.html\">Which Operator to Use? - Creation Operators</a></li>\n<li><a href=\"http://xgrommx.github.io/rx-book/content/which_operator_do_i_use/instance_operators.html\">Which Operator to Use? - Instance Operators</a></li>\n</ul>\n<p>Once you know which operators to use, you can easily try out your stream using <a href=\"https://stackblitz.com/\">StackBlitz</a> or <a href=\"https://rxviz.com/\">Rx Visualizer</a>.</p>\n<p>Don’t forget you can <a href=\"https://github.com/ReactiveX/rxjs/blob/master/doc/pipeable-operators.md#build-your-own-operators-easily\">build your own operators easily</a> to combine or quickhand other operators.</p>\n<blockquote>\n<p>RULE: USE THE CORRECT PIPE OPERATORS</p>\n</blockquote>\n<h2 id=\"ending\" style=\"position:relative;\"><a href=\"#ending\" aria-label=\"ending permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Ending</h2>\n<p>That’s all folks.\nSome of these rules are opinionated, but I hope they will help some of you to write better RxJS streams.\nJust remember: It’s not because you know what you’re doing that everyone knows what you’re doing.</p>","headings":[{"depth":2,"value":"Consuming all the RAM","id":"consuming-all-the-ram"},{"depth":3,"value":"Angular specific: Use the AsyncPipe","id":"angular-specific-use-the-asyncpipe"},{"depth":2,"value":"Yo dawg, I heard you like Subscriptions","id":"yo-dawg-i-heard-you-like-subscriptions"},{"depth":2,"value":"Sharing is caring","id":"sharing-is-caring"},{"depth":3,"value":"Angular specific: use shareReplay with AsyncPipe","id":"angular-specific-use-sharereplay-with-asyncpipe"},{"depth":2,"value":"My stream is too big","id":"my-stream-is-too-big"},{"depth":2,"value":"Impurity and side effects","id":"impurity-and-side-effects"},{"depth":3,"value":"Angular specific: handling @Input() properties","id":"angular-specific-handling-input-properties"},{"depth":2,"value":"I have no idea what I’m doing","id":"i-have-no-idea-what-im-doing"},{"depth":2,"value":"Ending","id":"ending"}],"frontmatter":{"title":"How to keep your RxJS streams from bursting their banks","category":"Angular","tags":["RxJS","Angular"],"image":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","backgroundColor":"#181808","images":{"fallback":{"src":"/static/f985f00df532f96b1ba150ee6557dc05/a2f51/speedlimit.jpg","srcSet":"/static/f985f00df532f96b1ba150ee6557dc05/a2f51/speedlimit.jpg 500w","sizes":"100vw"},"sources":[{"srcSet":"/static/f985f00df532f96b1ba150ee6557dc05/19135/speedlimit.webp 500w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.586}}},"authors":[],"date":"April 29, 2019"}},"allMarkdownRemark":{"edges":[{"node":{"id":"d883dd50-1b04-56fe-bd16-194744e1307d","fields":{"authorIds":null,"slug":"/accessibility-improves-UX-and-business-profit/accessibility-improves-UX-and-business-profit/"},"frontmatter":{"date":"2022-05-17T00:00:00.000Z","title":"How good accessibility improves user experiences & business profit","type":"blog","tags":["Accessibility"],"image":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","placeholder":{"fallback":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAgAB/8QAFQEBAQAAAAAAAAAAAAAAAAAAAAH/2gAMAwEAAhADEAAAAVHIEZf/xAAbEAABBAMAAAAAAAAAAAAAAAAAAREhMQIDEv/aAAgBAQABBQLJR+Sx43wJX//EABURAQEAAAAAAAAAAAAAAAAAABAx/9oACAEDAQE/AYf/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAZEAACAwEAAAAAAAAAAAAAAAAAARARITH/2gAIAQEABj8CxWauyhH/xAAaEAADAQADAAAAAAAAAAAAAAAAARFBIVGB/9oACAEBAAE/IcG10OSAtKejaJVzg1SIX//aAAwDAQACAAMAAAAQP9//xAAWEQEBAQAAAAAAAAAAAAAAAAABAEH/2gAIAQMBAT8QTEBt/8QAFhEBAQEAAAAAAAAAAAAAAAAAAQAh/9oACAECAQE/EDTZW//EABwQAQEAAgMBAQAAAAAAAAAAAAERACExQaFxkf/aAAgBAQABPxBh7GHeYTNo65PtyRAH6xzLgNS5oGKN8w7O1L65/9k="},"images":{"fallback":{"src":"/static/b6f4e68d2043a4226b8e448a5df7f044/585d0/daniel-ali-ju1yFZkrxVg-unsplash.jpg","srcSet":"/static/b6f4e68d2043a4226b8e448a5df7f044/05435/daniel-ali-ju1yFZkrxVg-unsplash.jpg 750w,\n/static/b6f4e68d2043a4226b8e448a5df7f044/81c74/daniel-ali-ju1yFZkrxVg-unsplash.jpg 1080w,\n/static/b6f4e68d2043a4226b8e448a5df7f044/b2594/daniel-ali-ju1yFZkrxVg-unsplash.jpg 1366w,\n/static/b6f4e68d2043a4226b8e448a5df7f044/585d0/daniel-ali-ju1yFZkrxVg-unsplash.jpg 1448w","sizes":"100vw"},"sources":[{"srcSet":"/static/b6f4e68d2043a4226b8e448a5df7f044/15f20/daniel-ali-ju1yFZkrxVg-unsplash.webp 750w,\n/static/b6f4e68d2043a4226b8e448a5df7f044/9a568/daniel-ali-ju1yFZkrxVg-unsplash.webp 1080w,\n/static/b6f4e68d2043a4226b8e448a5df7f044/e2fc4/daniel-ali-ju1yFZkrxVg-unsplash.webp 1366w,\n/static/b6f4e68d2043a4226b8e448a5df7f044/73e27/daniel-ali-ju1yFZkrxVg-unsplash.webp 1448w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.6691988950276243}}},"authors":null}}},{"node":{"id":"bfa11ea8-4c20-5537-b7f0-a9ce63544f6b","fields":{"authorIds":["orjan_de_smet"],"slug":"/angular-custom-control/angular-custom-control/"},"frontmatter":{"date":"2020-08-15T00:00:00.000Z","title":"Creating a custom form control in Angular","type":"blog","tags":["Angular"],"image":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAAsTAAALEwEAmpwYAAACyUlEQVQoz03KC0hTYQAF4J/IQDFGFoH5QDCzIgV7qKCUhSsbZqOnUWoiiMNMTcSwyErTTCWEUkvDlppGL8WG6Zybrm3u6Zy67e6O3e3uvubchiaa0ryhEvhxOHDgAOo/kqSIjTgo0uUklhcIzxxJkNRWTtK1dQKCIHBivRwk5pnDPC7cOUtCltmeYff4JOWcxXF880JSpMNMaDffmwBmt2G43Y5hetgxrHA193pyGzwJBXPgNHG3wbLoxhAritptFOYW2l73aetx1IHaUfsGYLLOSXXubr7nGXc2pwY7Vwwfz9ZFXpH7Jo4k542hGIRaCRxxD1lrm8avzUwZUNSOIIh1A+BLbe97jTWtmuLnksz7AhaHF5v+JeJ8JyOuJfRkR7uwosuQ1QuXVskOSxVCFMFg2GQ2w+uBzYDb/bOuqa+06lNGUXv5iz5WdvOh5OqwhMcB0WU7wgvbuD8ax1IKRkGv6A1ipmYgyGiEDJBJbzIbIROormsuefDydn7NxYyKs1fLjzGLwmNzA6OyAg6kg13MytoOg2GC2189ZbDaBR8XP1fojLBZNbbUXWZUjgHOnZL0zPwUdk5C8s2o+MsRMReCI5k798VtZxwBwJ/JTIUg0/SkYVJvkH9rn3+Y+Ptd4UrjDfRpqlwsBKxUdtIZVsyJpLCIo4y9+7f5BADg6+O7JyziYNqt66/a2jRqtUqt0igVEr1F0V5Lc4KXCqNFgzzlNARCQkL9/Bl+/ozAoNDY+FNFnLKe1g86tcKJL9OTi14bpZ2Zlstk4+oJPa9nLS8SyYlyZYQuPWKpJKOAzWZXVj7h8foRxEJ7nSSt+bpGjvyhlZ30UoODhlHIivwSiaTamYn6YtOlIN7AoPBtvSVtt/R7F1iY9whlVr6GpM26v9p7o3TLwCrkXKG93lU9BQ+JRcNDfIl0nWBUzBOIxlVqsVzZzxeIJdJ/8/vhYT3hHxQAAAAASUVORK5CYII="},"images":{"fallback":{"src":"/static/47eb4071e7b4fd828591dc6a4727299b/3b6f5/qyt3dcd64l.png","srcSet":"/static/47eb4071e7b4fd828591dc6a4727299b/3b6f5/qyt3dcd64l.png 500w","sizes":"100vw"},"sources":[{"srcSet":"/static/47eb4071e7b4fd828591dc6a4727299b/b7ca8/qyt3dcd64l.webp 500w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.586}}},"authors":[]}}},{"node":{"id":"a46dec1a-1810-59b6-9a54-4d0dbf056d6e","fields":{"authorIds":["orjan_de_smet"],"slug":"/angular-include-assets-libraries/angular-include-assets-libraries/"},"frontmatter":{"date":"2019-09-13T00:00:00.000Z","title":"Lessons learned on including library assets into Angular applications","type":"blog","tags":["Angular","Builders","Assets","Library","Monorepo"],"image":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","placeholder":{"fallback":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAMABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAEDBP/EABUBAQEAAAAAAAAAAAAAAAAAAAED/9oADAMBAAIQAxAAAAHRK6oMYz//xAAYEAADAQEAAAAAAAAAAAAAAAABAhARIf/aAAgBAQABBQI8UFtyKoWf/8QAFhEBAQEAAAAAAAAAAAAAAAAAAQIQ/9oACAEDAQE/AYqQRM//xAAWEQADAAAAAAAAAAAAAAAAAAABEBH/2gAIAQIBAT8BNX//xAAaEAACAgMAAAAAAAAAAAAAAAABEAARAkGh/9oACAEBAAY/AiZje+OwF//EABoQAQACAwEAAAAAAAAAAAAAAAEAESExQVH/2gAIAQEAAT8hfoBA4yblbS0vFRpBb2Wz/9oADAMBAAIAAwAAABD3L//EABgRAAIDAAAAAAAAAAAAAAAAAAABESFB/9oACAEDAQE/EJKDwo//xAAXEQEBAQEAAAAAAAAAAAAAAAABABEh/9oACAECAQE/EBoRu3//xAAbEAEAAwADAQAAAAAAAAAAAAABABEhMWGRcf/aAAgBAQABPxBwtQg8MCFglqiw8rnuI9/G5bkxypZVdqV8izrP/9k="},"images":{"fallback":{"src":"/static/db2bc63b7c104af4e01d98f84cf1f448/5cc6d/tpryd.jpg","srcSet":"/static/db2bc63b7c104af4e01d98f84cf1f448/5cc6d/tpryd.jpg 500w","sizes":"100vw"},"sources":[{"srcSet":"/static/db2bc63b7c104af4e01d98f84cf1f448/b7ca8/tpryd.webp 500w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.586}}},"authors":[]}}},{"node":{"id":"8fc38192-40d5-5e5e-8eeb-58da83d2e469","fields":{"authorIds":null,"slug":"/being-productive-with-typescript/being-productive-with-typescript/"},"frontmatter":{"date":"2022-06-08T00:00:00.000Z","title":"Being productive with Typescript","type":"blog","tags":["Typescript","Best practices"],"image":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","placeholder":{"fallback":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAMABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAECAwX/xAAVAQEBAAAAAAAAAAAAAAAAAAAAA//aAAwDAQACEAMQAAABznU7xiAf/8QAGRAAAgMBAAAAAAAAAAAAAAAAAQIAERIQ/9oACAEBAAEFAkAJZRqXU0ef/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAGBAAAgMAAAAAAAAAAAAAAAAAACEBIDH/2gAIAQEABj8CeCmv/8QAGBABAAMBAAAAAAAAAAAAAAAAAQAQEXH/2gAIAQEAAT8hyMhIDOUJaRSv/9oADAMBAAIAAwAAABB7/wD/xAAXEQEAAwAAAAAAAAAAAAAAAAABEBEh/9oACAEDAQE/EA24/8QAFhEBAQEAAAAAAAAAAAAAAAAAERAh/9oACAECAQE/EHCf/8QAHBAAAgICAwAAAAAAAAAAAAAAAREAIRBRMZGx/9oACAEBAAE/EH9SWdQ4sJQIIun7WHIsdGciQHqlj//Z"},"images":{"fallback":{"src":"/static/0ef7c409e0c579c3893684bfac9eb1a7/e0c47/banner.jpg","srcSet":"/static/0ef7c409e0c579c3893684bfac9eb1a7/19708/banner.jpg 750w,\n/static/0ef7c409e0c579c3893684bfac9eb1a7/e0c47/banner.jpg 1000w","sizes":"100vw"},"sources":[{"srcSet":"/static/0ef7c409e0c579c3893684bfac9eb1a7/c0046/banner.webp 750w,\n/static/0ef7c409e0c579c3893684bfac9eb1a7/c2b28/banner.webp 1000w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.586}}},"authors":null}}},{"node":{"id":"f8129530-ed91-5c32-8a14-06dd0f8775b7","fields":{"authorIds":[],"slug":"/designing-the-design-process/designing-the-design-process/"},"frontmatter":{"date":"2019-12-23T00:00:00.000Z","title":"Designing the design process","type":"blog","tags":["Design process"],"image":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAAsTAAALEwEAmpwYAAABIklEQVQY032RzU7DMBCE8/5vxQ0JqQcqKlEJSqH5aYhrZx3ba3t3jWIIJ8Qny9qDx6uZacqG1MMVYc4sNguLlL8glhhTQ0SrsgoKcxFhoiJsHb5fwYVYCotw/XlbU2HmBhz6RCFxSIxZHFLMnIkDZgPOY8okmdjHhJnnBdtBafA+ErE0x8HdHcan3u275bG19y+30+R6HZRLnQ4jYK9Dd/P7C+w+YPc2r48H93CGwabGIvXGGySb5Qr+8NqOECDyHMkgzZGmBVsFytjzpU85r9FsDhoISfsMSMZnE/KMZCMDEqzDekMkTwUxGQPMUqRUw6vtZlJWGz9OYGY/qeXSKYzpN5UfeI1dasjEsjUjzXdJsQo+lX4+nlJK5V+U5rZnM/MXPUvPVJjy2+cAAAAASUVORK5CYII="},"images":{"fallback":{"src":"/static/267f0a920cea0607f3e61217bc86b013/d2a4e/1_0efMr1b_peoGJtTjTFK7Gg.png","srcSet":"/static/267f0a920cea0607f3e61217bc86b013/2de81/1_0efMr1b_peoGJtTjTFK7Gg.png 750w,\n/static/267f0a920cea0607f3e61217bc86b013/d2a4e/1_0efMr1b_peoGJtTjTFK7Gg.png 939w","sizes":"100vw"},"sources":[{"srcSet":"/static/267f0a920cea0607f3e61217bc86b013/adb52/1_0efMr1b_peoGJtTjTFK7Gg.webp 750w,\n/static/267f0a920cea0607f3e61217bc86b013/c3e93/1_0efMr1b_peoGJtTjTFK7Gg.webp 939w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.40149094781682637}}},"authors":[]}}}]}},"pageContext":{"slug":"/rxjs-streams/Keep-your-RxJS-streams-from-bursting-their-banks/"}},"staticQueryHashes":["1274017682"]}